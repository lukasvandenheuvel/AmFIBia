<!DOCTYPE html>
<html>
<head>
    <title>Python package management</title>

    <link rel="stylesheet" type="text/css" href="../../../../Resources/common-style.css">
    <link rel="stylesheet" type="text/css" href="../../../../Resources/page-style.css">
    <link rel="stylesheet" type="text/css" href="../../../../Resources/page-custom-style.css">
    <link rel="stylesheet" type="text/css" href="../../../../Resources/syntax-highlight-style.css">

    <script src="../../../../Resources/common.js"></script>
    <script src="../../../../Resources/page.js"></script>
    <script src="../../../../Resources/page_jupyter_checking_ie.js"></script>
    <script src="../../../../Resources/page_jupyter_checking.js"></script>
    <script src="../../../../Resources/prism.js"></script>
    <script src="../../../../Resources/prism-normalize-whitespace.js"></script>
    <script src="../../../../Resources/prism-c.js"></script>
    <script src="../../../../Resources/prism-cpp.js"></script>
    <script src="../../../../Resources/prism-csharp.js"></script>
    <script src="../../../../Resources/prism-python.js"></script>

    <script>
        window.addEventListener('DOMContentLoaded', function() {
            onContentLoaded('../../../../shell.html');

            try {
                checkAllJupyterLinks();
            } catch(e) {
                disableAllJupyterLinks();
            };
        });

        function ScrollTo(elementId) {
            document.getElementById(elementId).scrollIntoView();
        }
    </script>
    <style>
        hr { height:2px; visibility:hidden; }
    </style>

    <!-- For old IE browsers: IE 9 and lower -->
    <!--[if IE]>
    <link rel="stylesheet" type="text/css" href="../../../../Resources/page-style-old-ie.css">
    <![endif]-->
</head>

<body>

<h1>Python package management</h1>

This chapter summarizes methods for installing, updating, or removing Python packages from virtual environments.
We recommend starting with the chapter on <a href="../PythonDistribution.html">Python distribution</a> to gain a basic understanding of the Enthought Deployment Manager (EDM) tool.
<br><br>
There are three options for managing packages:

<ol>
    <li><a href="#option1" onclick="ScrollTo('option1')">AutoScript Package Manager</a> (preferred method)</li>
    <li><a href="#option2" onclick="ScrollTo('option2')">EDM command-line interface</a></li>
    <li><a href="#option3" onclick="ScrollTo('option3')">Pip command-line interface</a></li>
</ol>

All three options require an Internet connection to access the online packages repository, which can be either the Enthought deployment server (options 1 and 2) or PyPI (option 3).
<br><br>

Note: Some Python packages may have additional hardware requirements, such as the presence of a graphics processor
from a particular vendor, etc. Neither of the options checks whether these requirements are met and therefore whether the package will work correctly.


<hr id="option1"/>
<h2>1. AutoScript Package Manager</h2>

The Package Manager serves as a GUI extension to the EDM command-line tool,
providing a more user-friendly experience for package management.<br><br>

<strong>Example</strong>: To install the popular open source machine learning package <strong>PyTorch</strong> follow these steps:<br>

<ol>
    <li>
        Launch the AutoScript Package Manager from the Start menu <em>Thermo Scientific AutoScript</em> &gt;
        <em>AutoScript Package Manager</em>.<br>
        On startup, the application scans the available and installed packages and displays them in the left and right panes.<br><br>

        <img src="../../Resources/PackageManager_Example1.png" alt="PackageManager_Example1" height="635" width="1099"><br><br>
    </li>

    <li>
        Enter the name of the package "torch" in the search field above the left pane to limit the list of packages
        to those containing "torch".
    </li>

    <li>
        When you select the package in the left pane, its available versions are displayed.
        Select the latest version and click the "Install Selected Version" button.<br><br>

        <img src="../../Resources/PackageManager_Example2.png" alt="PackageManager_Example2" height="409" width="1099"><br><br>
    </li>

    <li>
        A confirmation window will open with a summary of all changes to be made to the environment.
        The changes may include adding, upgrading or downgrading multiple packages to satisfy dependencies of the installed package.
        Click Yes when ready.

    </li>
    <li>
        The package has been downloaded and installed. It now appears in the list of installed packages in the right pane.
    </li>
</ol>

<hr id="option2"/>
<h2>2. EDM command-line interface</h2>

Enthought Deployment Manager (EDM) is Enthoughtâ€™s environment and application manager with support for virtual environments.
Full documentation for its command line interface is available online at <a href="https://docs.enthought.com/edm" target="_blank">https://docs.enthought.com/edm</a>.
<br><br>

<strong>Examples</strong>:

<p>
    To list all installed packages in the "AutoScript" environment, open the <strong>AutoScript EDM Shell</strong> from the
    Start menu and enter the following:
</p>
<pre>
edm list
</pre>

<p>To download the latest version of the <strong>PyTorch </strong>package from Enthought deployment server and install it to the AutoScript environment:</p>
<pre>
edm install torch
</pre>

<p>To create a new virtual environment "Experiment" based on Python 3.11 runtime and initialize it with the package <strong>NumpPy</strong> in version 1.21.2-2:</p>
<pre>
edm env create Experiment --version 3.11.10+1
edm install numpy==1.21.2-2 -e Experiment
</pre>


<hr id="option3"/>
<h2>3. Pip command-line interface</h2>

To access packages that are not available on the Enthought deployment server but are present in the online <strong>PyPI</strong> repository,
you can utilize the <strong>pip</strong> package manager.<br>
However, combining packages from two different package repositories in a single environment
carries certain risks. There is a possibility of installing packages with incomplete dependency trees or encountering
conflicts that may break existing packages within the environment.<br><br>
As a general guideline, it is not recommended to mix Enthought and PyPI packages.

<br><br>
<strong>Example:</strong> To download and install the <strong>HyperSpy</strong> package along with all its dependencies into the AutoScript environment,
enter the following command in the AutoScript EDM Shell prompt:

<pre>
pip install hyperspy
</pre>

Note: The PyCharm editor and other popular Python editors offer functions for managing Python packages.
In most cases, these editors rely on the <strong>pip</strong> interface and offer packages from the <strong>PyPI</strong> online database.
As stated above, care must be taken when using these package managers, as mixing packages from different sources can lead to compatibility and dependency issues.

</body>
</html>
