<!DOCTYPE html>
<html>
<head>
    <title>EdsStream.get_phase_spectrum</title>
    <link rel="stylesheet" type="text/css" href="../../../Resources/common-style.css">
    <link rel="stylesheet" type="text/css" href="../../../Resources/page-style.css">
    <link rel="stylesheet" type="text/css" href="../../../Resources/page-custom-style.css">
    <link rel="stylesheet" type="text/css" href="../../../Resources/syntax-highlight-style.css">

    <script src="../../../Resources/common.js"></script>
    <script src="../../../Resources/page.js"></script>
    <script src="../../../Resources/page_jupyter_checking_ie.js"></script>
    <script src="../../../Resources/page_jupyter_checking.js"></script>
    <script src="../../../Resources/prism.js"></script>
    <script src="../../../Resources/prism-normalize-whitespace.js"></script>
    <script src="../../../Resources/prism-c.js"></script>
    <script src="../../../Resources/prism-cpp.js"></script>
    <script src="../../../Resources/prism-csharp.js"></script>
    <script src="../../../Resources/prism-python.js"></script>

    <script>
        window.addEventListener('DOMContentLoaded', function() {
            onContentLoaded('../../../shell.html');

            try {
                checkAllJupyterLinks();
            } catch(e) {
                disableAllJupyterLinks();
            };
        });
    </script>

    <!-- For old IE browsers: IE 9 and lower -->
    <!--[if IE]>
    <link rel="stylesheet" type="text/css" href="../../../Resources/page-style-old-ie.css">
    <![endif]-->
</head>
<body>
    <h1><a class="header-path" href="../../_dynamic_object_proxies/EdsStream/EdsStream.html">EdsStream</a>.<a class="header-path" href="../../_dynamic_object_proxies/EdsStream/get_phase_spectrum.html">get_phase_spectrum</a></h1>
    <p>Provides an EDS spectrum collected from the area of the sample corresponding to the specified phase. Before calling this function, it&#39;s necessary to complete the phase analysis of the stream by executing <a href="../../_dynamic_object_proxies/EdsStream/run_phase_analysis.html">run_phase_analysis()</a>.</p>
    <h2>Syntax</h2>
    <pre><code class="language-python">get_phase_spectrum(phase_index)</code></pre>
    <h2>Parameters</h2>
    <table>
        <tr>
            <td>phase_index</td>
            <td>int</td>
            <td>An integer representing the index of the phase to retrieve the spectrum for. Indexing starts from 1.</td>
        </tr>
    </table>
    <h2>Return value</h2>
    <table>
        <tr>
            <td><a href="../../_structures_adorned_spectrum/AdornedSpectrum/AdornedSpectrum.html">AdornedSpectrum</a></td>
            <td>The phase spectrum in form of the <a href="../../_structures_adorned_spectrum/AdornedSpectrum/AdornedSpectrum.html">AdornedSpectrum</a> object.</td>
        </tr>
    </table>
<!-- Custom part - START -->
    <!--<h2>Remarks</h2>-->
    
    <h2>Examples</h2>
    
    <pre><code class="language-python">
        # Create a new empty EDS stream and activate it
        microscope.analysis.eds.mapping.reset_stream()
        
        # Scan the entire field of view for 10 seconds; the EDS stream will register X-rays generated by the scanning
        microscope.beams.electron_beam.scanning.mode.set_full_frame()
        microscope.imaging.start_acquisition()
        time.sleep(10)
        microscope.imaging.stop_acquisition()
        
        # Get the active stream and close it to enable data processing
        eds_stream = microscope.analysis.eds.mapping.get_stream()
        eds_stream.close()
        
        # Analyze the stream for phases and prepare the mapping engine
        settings = EdsPhaseAnalysisSettings(segmentation_resolution=EdsSegmentationResolution.DYNAMIC_OBJECT_BASED)
        result = eds_stream.run_phase_analysis(settings)
        
        # Generate phase maps and save them to disk along with corresponding phase spectra in EMSA format
        for phase_index in result.get_all_phases():
            map_image = eds_stream.get_phase_map([phase_index])
            map_image.save(f"phase_{phase_index}_map.tif")
            phase_spectrum = eds_stream.get_phase_spectrum(phase_index)
            phase_spectrum.save(f"phase_{phase_index}_spectrum.emsa")
    </code></pre>

    
    <h2>See also</h2>
    <a href="get_phase_map.html">EdsStream.get_phase_map()</a>
    
<!-- Custom part - END -->
</body>
</html>
<!-- This file was automatically generated. Content between custom parts will not be regenerated. Remove this line if you want the generator to completely ignore this file. -->